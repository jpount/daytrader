erDiagram
    %% DayTrader3 Database Schema
    
    ACCOUNTEJB {
        INTEGER ACCOUNTID PK "NOT NULL"
        INTEGER LOGINCOUNT "NOT NULL"
        INTEGER LOGOUTCOUNT "NOT NULL"
        TIMESTAMP LASTLOGIN
        TIMESTAMP CREATIONDATE
        DECIMAL BALANCE
        DECIMAL OPENBALANCE
        VARCHAR(250) PROFILE_USERID FK
    }
    
    ACCOUNTPROFILEEJB {
        VARCHAR(250) USERID PK "NOT NULL"
        VARCHAR(250) PASSWD
        VARCHAR(250) FULLNAME
        VARCHAR(250) ADDRESS
        VARCHAR(250) EMAIL
        VARCHAR(250) CREDITCARD
    }
    
    HOLDINGEJB {
        INTEGER HOLDINGID PK "NOT NULL"
        DOUBLE QUANTITY "NOT NULL"
        DECIMAL PURCHASEPRICE
        TIMESTAMP PURCHASEDATE
        INTEGER ACCOUNT_ACCOUNTID FK
        VARCHAR(250) QUOTE_SYMBOL FK
    }
    
    ORDEREJB {
        INTEGER ORDERID PK "NOT NULL"
        VARCHAR(250) ORDERTYPE
        VARCHAR(250) ORDERSTATUS
        TIMESTAMP OPENDATE
        TIMESTAMP COMPLETIONDATE
        DOUBLE QUANTITY "NOT NULL"
        DECIMAL PRICE
        DECIMAL ORDERFEE
        INTEGER ACCOUNT_ACCOUNTID FK
        VARCHAR(250) QUOTE_SYMBOL FK
        INTEGER HOLDING_HOLDINGID FK
    }
    
    QUOTEEJB {
        VARCHAR(250) SYMBOL PK "NOT NULL"
        VARCHAR(250) COMPANYNAME
        DOUBLE VOLUME "NOT NULL"
        DECIMAL PRICE
        DECIMAL OPEN1
        DECIMAL LOW
        DECIMAL HIGH
        DOUBLE CHANGE1 "NOT NULL"
    }
    
    KEYGENEJB {
        VARCHAR(250) KEYNAME PK "NOT NULL"
        INTEGER KEYVAL "NOT NULL"
    }
    
    OPENJPASEQ {
        SMALLINT ID PK "NOT NULL"
        BIGINT SEQUENCE_VALUE
    }
    
    %% Relationships
    ACCOUNTPROFILEEJB ||--|| ACCOUNTEJB : "has account"
    ACCOUNTEJB ||--o{ HOLDINGEJB : "owns"
    ACCOUNTEJB ||--o{ ORDEREJB : "places"
    QUOTEEJB ||--o{ HOLDINGEJB : "held in"
    QUOTEEJB ||--o{ ORDEREJB : "ordered in"
    HOLDINGEJB ||--o| ORDEREJB : "sold via"